/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.PhotoSwipeUI_Default=t()})(this,function(){"use strict";return function(n,t){var r=this,b=!1,s=!0,e,u,a,c,rt,ut,h,o=!0,ft,k,f,et,ot,st,ht,i,yt={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(n,t){return n.title?(t.children[0].innerHTML=n.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},y,pt,ct=function(n){var f,r,e,o,u,s;if(y)return!0;for(n=n||window.event,i.timeToIdle&&i.mouseUsed&&!k&&it(),f=n.target||n.srcElement,e=f.getAttribute("class")||"",u=0;u<w.length;u++)r=w[u],r.onTap&&e.indexOf("pswp__"+r.name)>-1&&(r.onTap(),o=!0);o&&(n.stopPropagation&&n.stopPropagation(),y=!0,s=t.features.isOldAndroid?600:30,pt=setTimeout(function(){y=!1},s))},wt=function(){return!n.likelyTouchDevice||i.mouseUsed||screen.width>i.fitControlsWidth},l=function(n,i,r){t[(r?"add":"remove")+"Class"](n,"pswp__"+i)},lt=function(){var n=i.getNumItemsFn()===1;n!==ht&&(l(u,"ui--one-slide",n),ht=n)},at=function(){l(h,"share-modal--hidden",o)},v=function(){return o=!o,o?(t.removeClass(h,"pswp__share-modal--fade-in"),setTimeout(function(){o&&at()},300)):(at(),setTimeout(function(){o||t.addClass(h,"pswp__share-modal--fade-in")},30)),o||kt(),!1},bt=function(t){t=t||window.event;var i=t.target||t.srcElement;return(n.shout("shareLinkClick",t,i),!i.href)?!1:i.hasAttribute("download")?!0:(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),o||v(),!1)},kt=function(){for(var t="",n,f,r,e,o,u=0;u<i.shareButtons.length;u++)n=i.shareButtons[u],r=i.getImageURLForShare(n),e=i.getPageURLForShare(n),o=i.getTextForShare(n),f=n.url.replace("{{url}}",encodeURIComponent(e)).replace("{{image_url}}",encodeURIComponent(r)).replace("{{raw_image_url}}",r).replace("{{text}}",encodeURIComponent(o)),t+='<a href="'+f+'" target="_blank" class="pswp__share--'+n.id+'"'+(n.download?"download":"")+">"+n.label+"<\/a>",i.parseShareButtonOut&&(t=i.parseShareButtonOut(n,t));h.children[0].innerHTML=t;h.children[0].onclick=bt},d=function(n){for(var r=0;r<i.closeElClasses.length;r++)if(t.hasClass(n,"pswp__"+i.closeElClasses[r]))return!0},g,nt,tt=0,it=function(){clearTimeout(nt);tt=0;k&&r.setIdle(!1)},vt=function(n){n=n?n:window.event;var t=n.relatedTarget||n.toElement;t&&t.nodeName!=="HTML"||(clearTimeout(nt),nt=setTimeout(function(){r.setIdle(!0)},i.timeToIdleOutside))},dt=function(){i.fullscreenEl&&!t.features.isOldAndroid&&(e||(e=r.getFullscreenAPI()),e?(t.bind(document,e.eventK,r.updateFullscreen),r.updateFullscreen(),t.addClass(n.template,"pswp--supports-fs")):t.removeClass(n.template,"pswp--supports-fs"))},gt=function(){i.preloaderEl&&(p(!0),f("beforeChange",function(){clearTimeout(st);st=setTimeout(function(){n.currItem&&n.currItem.loading?n.allowProgressiveImg()&&(!n.currItem.img||n.currItem.img.naturalWidth)||p(!1):p(!0)},i.loadingIndicatorDelay)}),f("imageLoadComplete",function(t,i){n.currItem===i&&p(!0)}))},p=function(n){ot!==n&&(l(et,"preloader--active",!n),ot=n)},ni=function(n){var r=n.vGap,f,e;wt()?(f=i.barsSize,i.captionEl&&f.bottom==="auto"?(c||(c=t.createEl("pswp__caption pswp__caption--fake"),c.appendChild(t.createEl("pswp__caption__center")),u.insertBefore(c,a),t.addClass(u,"pswp__ui--fit")),i.addCaptionHTMLFn(n,c,!0)?(e=c.clientHeight,r.bottom=parseInt(e,10)||44):r.bottom=f.top):r.bottom=f.bottom==="auto"?0:f.bottom,r.top=f.top):r.top=r.bottom=0},ti=function(){i.timeToIdle&&f("mouseUsed",function(){t.bind(document,"mousemove",it);t.bind(document,"mouseout",vt);g=setInterval(function(){tt++;tt===2&&r.setIdle(!0)},i.timeToIdle/2)})},ii=function(){f("onVerticalDrag",function(n){s&&n<.95?r.hideControls():!s&&n>=.95&&r.showControls()});var n;f("onPinchClose",function(t){s&&t<.9?(r.hideControls(),n=!0):n&&!s&&t>.9&&r.showControls()});f("zoomGestureEnded",function(){n=!1;n&&!s&&r.showControls()})},w=[{name:"caption",option:"captionEl",onInit:function(n){a=n}},{name:"share-modal",option:"shareEl",onInit:function(n){h=n},onTap:function(){v()}},{name:"button--share",option:"shareEl",onInit:function(n){ut=n},onTap:function(){v()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(n){rt=n}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(n){et=n}}],ri=function(){var n,e,r,o=function(u){var s,f,o;if(u)for(s=u.length,f=0;f<s;f++)for(n=u[f],e=n.className,o=0;o<w.length;o++)if(r=w[o],e.indexOf("pswp__"+r.name)>-1)if(i[r.option]){if(t.removeClass(n,"pswp__element--disabled"),r.onInit)r.onInit(n)}else t.addClass(n,"pswp__element--disabled")},f;o(u.children);f=t.getChildByClass(u,"pswp__top-bar");f&&o(f.children)};r.init=function(){t.extend(n.options,yt,!0);i=n.options;u=t.getChildByClass(n.scrollWrap,"pswp__ui");f=n.listen;ii();f("beforeChange",r.update);f("doubleTap",function(t){var r=n.currItem.initialZoomLevel;n.getZoomLevel()!==r?n.zoomTo(r,t,333):n.zoomTo(i.getDoubleTapZoom(!1,n.currItem),t,333)});f("preventDragEvent",function(n,t,i){var r=n.target||n.srcElement;r&&r.getAttribute("class")&&n.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(i.prevent=!1)});f("bindEvents",function(){t.bind(u,"pswpTap click",ct);t.bind(n.scrollWrap,"pswpTap",r.onGlobalTap);n.likelyTouchDevice||t.bind(n.scrollWrap,"mouseover",r.onMouseOver)});f("unbindEvents",function(){o||v();g&&clearInterval(g);t.unbind(document,"mouseout",vt);t.unbind(document,"mousemove",it);t.unbind(u,"pswpTap click",ct);t.unbind(n.scrollWrap,"pswpTap",r.onGlobalTap);t.unbind(n.scrollWrap,"mouseover",r.onMouseOver);e&&(t.unbind(document,e.eventK,r.updateFullscreen),e.isFullscreen()&&(i.hideAnimationDuration=0,e.exit()),e=null)});f("destroy",function(){i.captionEl&&(c&&u.removeChild(c),t.removeClass(a,"pswp__caption--empty"));h&&(h.children[0].onclick=null);t.removeClass(u,"pswp__ui--over-close");t.addClass(u,"pswp__ui--hidden");r.setIdle(!1)});i.showAnimationDuration||t.removeClass(u,"pswp__ui--hidden");f("initialZoomIn",function(){i.showAnimationDuration&&t.removeClass(u,"pswp__ui--hidden")});f("initialZoomOut",function(){t.addClass(u,"pswp__ui--hidden")});f("parseVerticalMargin",ni);ri();i.shareEl&&ut&&h&&(o=!0);lt();ti();dt();gt()};r.setIdle=function(n){k=n;l(u,"ui--idle",n)};r.update=function(){s&&n.currItem?(r.updateIndexIndicator(),i.captionEl&&(i.addCaptionHTMLFn(n.currItem,a),l(a,"caption--empty",!n.currItem.title)),b=!0):b=!1;o||v();lt()};r.updateFullscreen=function(i){i&&setTimeout(function(){n.setScrollOffset(0,t.getScrollY())},50);t[(e.isFullscreen()?"add":"remove")+"Class"](n.template,"pswp--fs")};r.updateIndexIndicator=function(){i.counterEl&&(rt.innerHTML=n.getCurrentIndex()+1+i.indexIndicatorSep+i.getNumItemsFn())};r.onGlobalTap=function(u){u=u||window.event;var f=u.target||u.srcElement;if(!y)if(u.detail&&u.detail.pointerType==="mouse"){if(d(f)){n.close();return}t.hasClass(f,"pswp__img")&&(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio?i.clickToCloseNonZoomable&&n.close():n.toggleDesktopZoom(u.detail.releasePoint))}else if(i.tapToToggleControls&&(s?r.hideControls():r.showControls()),i.tapToClose&&(t.hasClass(f,"pswp__img")||d(f))){n.close();return}};r.onMouseOver=function(n){n=n||window.event;var t=n.target||n.srcElement;l(u,"ui--over-close",d(t))};r.hideControls=function(){t.addClass(u,"pswp__ui--hidden");s=!1};r.showControls=function(){s=!0;b||r.update();t.removeClass(u,"pswp__ui--hidden")};r.supportsFullscreen=function(){var n=document;return!!(n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen)};r.getFullscreenAPI=function(){var r=document.documentElement,t,u="fullscreenchange";return r.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:u}:r.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+u}:r.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+u}:r.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(ft=i.closeOnScroll,i.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},t.exit=function(){return i.closeOnScroll=ft,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}});